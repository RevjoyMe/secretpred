# üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

## ‚úÖ –ü–û–õ–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï FHE –°–ò–ù–¢–ê–ö–°–ò–°–ê

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ Zama FHEVM:

#### ‚ùå –ù–ê–ô–î–ï–ù–ù–´–ï –ù–ê–†–£–®–ï–ù–ò–Ø (–ò–°–ü–†–ê–í–õ–ï–ù–´):

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `ebool.unwrap()` –≤ —É—Å–ª–æ–≤–∏—è—Ö** - –ù–ï–î–û–ü–£–°–¢–ò–ú–û
   - **–ë—ã–ª–æ**: `if (ebool.unwrap(isNewBettor) == bytes32(uint256(1)))`
   - **–°—Ç–∞–ª–æ**: `euint32 increment = FHE.select(isNewBettor, FHE.asEuint32(1), FHE.asEuint32(0))`

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `unwrap()` –≤ require statements** - –ù–ï–î–û–ü–£–°–¢–ò–ú–û
   - **–ë—ã–ª–æ**: `require(ebool.unwrap(validAmount) == bytes32(uint256(1)), "Amount mismatch")`
   - **–°—Ç–∞–ª–æ**: –£–±—Ä–∞–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è FHE-—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –ª–æ–≥–∏–∫–∞

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `euint64.unwrap()` –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π** - –ù–ï–î–û–ü–£–°–¢–ò–ú–û
   - **–ë—ã–ª–æ**: `uint256 rawPayout = uint256(euint64.unwrap(winningAmount))`
   - **–°—Ç–∞–ª–æ**: –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ payout –¥–ª—è FHE-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

#### BettingVault.sol:
‚úÖ **–ò–º–ø–æ—Ä—Ç—ã**: –î–æ–±–∞–≤–ª–µ–Ω `euint32` –≤ –∏–º–ø–æ—Ä—Ç—ã  
‚úÖ **–¢–∏–ø—ã**: `totalBettors` –∏–∑–º–µ–Ω–µ–Ω —Å `uint256` –Ω–∞ `euint32`  
‚úÖ **–õ–æ–≥–∏–∫–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `FHE.select()` –≤–º–µ—Å—Ç–æ `unwrap()` –¥–ª—è —É—Å–ª–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏  
‚úÖ **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è FHE –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö  
‚úÖ **–î–æ—Å—Ç—É–ø**: –î–æ–±–∞–≤–ª–µ–Ω `FHE.allowThis(totalBettors)`  
‚úÖ **–§—É–Ω–∫—Ü–∏–∏**: –î–æ–±–∞–≤–ª–µ–Ω—ã `makeBettorsPublic()` –∏ `getTotalBettorsEncrypted()`  

#### PredictionMarket.sol:
‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –£–±—Ä–∞–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ `unwrap()`  
‚úÖ **Payout –ª–æ–≥–∏–∫–∞**: –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞ –¥–ª—è FHE-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏  
‚úÖ **–§—É–Ω–∫—Ü–∏–∏**: –î–æ–±–∞–≤–ª–µ–Ω—ã `getEncryptedPosition()`, `getEncryptedMarketTotals()`, `makeMarketTotalsPublic()`  
‚úÖ **–õ–æ–≥–∏–∫–∞**: –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ FHE –æ–ø–µ—Ä–∞—Ü–∏–∏  

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ **100% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º Zama FHEVM**  
‚úÖ **–í—Å–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫**  
‚úÖ **–£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞**  
‚úÖ **–ü–æ–ª–Ω–∞—è FHE-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**  

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã FHEVM, –∫–æ—Ç–æ—Ä—ã–µ —Ç–µ–ø–µ—Ä—å —Å–æ–±–ª—é–¥–∞—é—Ç—Å—è:

1. **–ù–∏–∫–∞–∫–∏—Ö `unwrap()` –≤ —É—Å–ª–æ–≤–∏—è—Ö –∏–ª–∏ require statements**
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `FHE.select()` –¥–ª—è —É—Å–ª–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏**
3. **–í—Å–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `FHE.add()`, `FHE.sub()`, etc.**
4. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ `FHE.allowThis()`**
5. **–ü—É–±–ª–∏—á–Ω–æ–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ `FHE.makePubliclyDecryptable()`**

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. ‚úÖ –î–µ–ø–ª–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –Ω–∞ Sepolia
2. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ FHE —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
3. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

---
*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: $(Get-Date)*
